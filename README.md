# 📌 리팩토링 피드백 템플릿 (예제: sendMail 리팩토링 기준)

> ✍️ 리팩토링한 코드에 대해 동료나 후속 개발자가 읽고 피드백을 주기 좋게끔 작성하는 템플릿입니다.
> 코드 주석 또는 PR 설명에 함께 남기면 좋습니다.

---

## ✅ 리팩토링 이유
- 왜 이 부분을 리팩토링했는지 설명
- 예: 함수가 너무 길어졌음, 역할 분리가 필요했음 등

````java
// 📌 REFACTOR: sendMail()이 100줄 이상으로 너무 길어, 의미 단위로 나누어 가독성 향상 목적의 리팩토링
private void sendMail(...) {
    // 메일 제목 생성, 템플릿 경로 결정, context 생성, VO 생성, 전송 등 모든 역할을 담당
    // 역할 분리를 위해 하위 메서드로 위임함
    String title = buildMailTitle(...);
    Context context = buildMailContext(...);
    sendAdminMail(...);
    sendUserMail(...);
}
````

---

## 피드백 받고 싶은 부분
- 동료에게 질문하고 싶은 부분을 명확하게 남깁니다
- 논란의 여지가 있는 리팩토링 포인트나 개인 취향이 들어간 구조 등

````java
// TODO: 메일 전송 sendMailTo() 인자 너무 많음
// - 개선 아이디어: MailRequest DTO 생성
// - 질문: 이 구조가 더 명확해 보일까, 오히려 무거워 보일까?
private EmailResVO sendMailTo(String to, String path, Context context, String title, String msgCode) { ... }

// REVIEW POINT: buildMailContext() 변수명이 의미 전달에 충분한지?
// - 예: variables → templateVariables?
private Context buildMailContext(...) { ... }
````

---

## ⚠️ 우려되는 점 / 리스크
- 리팩토링으로 인해 생길 수 있는 동작 변경, 유지보수 복잡도 증가 등을 언급

```
- 템플릿 경로를 분리한 메서드 이름이 길고 분산되어서 추적하기 어려워질 수 있음
- 메일 발송 실패시 기존 로그 구조와 달라질 수 있음
```

---

## ✅ 리팩토링 전후 비교 (선택)
| 항목        | Before                                  | After                          |
|-------------|------------------------------------------|---------------------------------|
| 메서드 길이  | 100줄 이상                              | 20줄 이하로 나누어짐           |
| 인자 수      | 5개                                      | 의미 있는 단위 메서드로 정리됨  |
| 재사용성     | 낮음                                      | 높음 (공통 템플릿/로직 재사용)   |

---

## 🙏 기타 코멘트
- 본 리팩토링은 향후 템플릿 코드 및 다국어 적용 로직 확장까지 고려된 구조입니다.
- 의견이나 더 나은 구조가 있다면 자유롭게 남겨주세요!

---

> 함께 보는 눈이 더 좋은 코드를 만든다. 👀
